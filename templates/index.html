{% extends "base.html" %}

{% block title %}Products - ShopHub{% endblock %}

{% block content %}
<div class="container-fluid mt-4">
  <div class="row">

    <!-- ========================= -->
    <!-- FILTERS SIDEBAR -->
    <!-- ========================= -->
    <div class="col-lg-3 mb-4">
        <div class="filter-sidebar">

            <h5><i class="bi bi-funnel"></i> Filters</h5>

            <!-- SCROLLABLE AREA -->
            <div class="filter-scroll">

                <!-- Category -->
                <div class="mb-3">
                    <label class="form-label">Category</label>
                    <select class="form-select" id="filterCategory">
                        <option value="">All Categories</option>
                    </select>
                </div>

                <!-- Brand -->
                <div class="mb-3">
                    <label class="form-label">Brand</label>
                    <input type="text" class="form-control" id="filterBrand" placeholder="Search brand..." />
                </div>

                <!-- Price -->
                <div class="mb-3">
                    <label class="form-label">Price Range</label>
                    <div class="row g-2">
                        <div class="col-6">
                            <input type="number" class="form-control" id="minPrice" placeholder="Min" />
                        </div>
                        <div class="col-6">
                            <input type="number" class="form-control" id="maxPrice" placeholder="Max" />
                        </div>
                    </div>
                </div>

                <!-- Stock -->
                <div class="mb-3">
                    <label class="form-label">Stock Status</label>
                    <select class="form-select" id="filterStock">
                        <option value="">All</option>
                        <option value="In Stock">In Stock</option>
                        <option value="Low Stock">Low Stock</option>
                        <option value="Out of Stock">Out of Stock</option>
                    </select>
                </div>

                <!-- Dynamic Filters -->
                <div id="dynamicFilters"></div>

                <!-- Sort -->
                <div class="mb-3">
                    <label class="form-label">Sort By</label>
                    <select class="form-select" id="sortBy">
                        <option value="product_id">Product ID</option>
                        <option value="price">Price: Low to High</option>
                        <option value="price_desc">Price: High to Low</option>
                    </select>
                </div>

            </div>

            <!-- FIXED ACTIONS -->
            <div class="filter-actions">
                <button class="btn btn-primary w-100 mb-2" id="applyFiltersBtn">
                    Apply Filters
                </button>
                <button class="btn btn-outline-secondary w-100" id="clearFiltersBtn">
                    Clear
                </button>
            </div>

        </div>
    </div>


    <!-- ========================= -->
    <!-- PRODUCTS GRID -->
    <!-- ========================= -->
    <div class="col-lg-9">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>Our Products</h2>
        <div id="productCount" class="text-muted"></div>
      </div>

      <!-- Products Grid -->
      <div
        class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4"
        id="productsGrid"
      >
        <!-- Products loaded dynamically -->
      </div>

      <!-- Pagination -->
      <nav aria-label="Page navigation" class="mt-5">
        <ul class="pagination justify-content-center" id="pagination">
          <!-- Pagination injected dynamically -->
        </ul>
      </nav>
    </div>

  </div>
</div>
{% endblock %}